,0):g())});
mh[d]=!0;nh[b.toString()]||(nh[b.toString()]=[]);nh[b.toString()].push(d);return d}
function th(){var a=uh;const b=sh(function(c){a.apply(void 0,arguments);vh(b)});
return b}
function vh(a){const b=rh();b&&("number"===typeof a&&(a=[a]),ra(a,c=>{b.unsubscribeByKey(c);delete mh[c]}))}
function rh(){return w("ytPubsub2Pubsub2Instance")}
;const wh=["client.name","client.version"];function zh(a){if(!a.errorMetadata||!a.errorMetadata.kvPairs)return a;a.errorMetadata.kvPairs=a.errorMetadata.kvPairs.filter(b=>b.key?wh.includes(b.key):!1);
return a}
;var Ah=Rg("ServiceWorkerLogsDatabase",{P:{SWHealthLog:{O:1}},ea:!0,upgrade:(a,b)=>{b(1)&&ig(a,"SWHealthLog",{keyPath:"id",autoIncrement:!0}).h.createIndex("swHealthNewRequest",["interface","timestamp"],{unique:!1})},
version:1});function Bh(a,b){return r(function*(){var c=yield yg(Ah(),b),d=M("INNERTUBE_CONTEXT_CLIENT_NAME",0);const e=Object.assign({},a);e.clientError&&(e.clientError=zh(e.clientError));e.interface=d;return kg(c,"SWHealthLog",e)})}
;v("ytNetworklessLoggingInitializationOptions",t.ytNetworklessLoggingInitializationOptions||{isNwlInitialized:!1});function Ch(a,b,c){!M("VISITOR_DATA")&&.01>Math.random()&&Ze(new O("Missing VISITOR_DATA when sending innertube request.","log_event",b,c));if(!a.isReady())throw a=new O("innertube xhrclient not ready","log_event",b,c),Ye(a),a;b={headers:c.headers||{},method:"POST",postParams:b,postBody:c.postBody,postBodyFormat:c.postBodyFormat||"JSON",onTimeout:()=>{c.onTimeout()},
onFetchTimeout:c.onTimeout,onSuccess:(k,l)=>{if(c.onSuccess)c.onSuccess(l)},
onFetchSuccess:k=>{if(c.onSuccess)c.onSuccess(k)},
onError:(k,l)=>{if(c.onError)c.onError(l)},
onFetchError:k=>{if(c.onError)c.onError(k)},
timeout:c.timeout,withCredentials:!0};b.headers["Content-Type"]||(b.headers["Content-Type"]="application/json");let d="";var e=a.config_.Pa;e&&(d=e);e=hh(a.config_.Ra||!1,d,c);Object.assign(b.headers,e);(e=b.headers.Authorization)&&!d&&(b.headers["x-origin"]=window.location.origin);const f=`/${"youtubei"}/${a.config_.innertubeApiVersion}/${"log_event"}`;let g={alt:"json"},h=a.config_.Qa&&e;h=h&&e.startsWith("Bearer");h||(g.key=a.config_.innertubeApiKey);a=ff(`${d}${f}`,g||{},!0);try{kf(a,b)}catch(k){if("InvalidAccessError"==
k.name)Ze(Error("An extension is blocking network request."));else throw k;}}
class Dh{constructor(a){this.config_=null;a?this.config_=a:ah()&&(this.config_=bh())}isReady(){!this.config_&&ah()&&(this.config_=bh());return!!this.config_}};let Eh=0;v("ytDomDomGetNextId",w("ytDomDomGetNextId")||(()=>++Eh));const Fh={stopImmediatePropagation:1,stopPropagation:1,preventMouseEvent:1,preventManipulation:1,preventDefault:1,layerX:1,layerY:1,screenX:1,screenY:1,scale:1,rotation:1,webkitMovementX:1,webkitMovementY:1};function Gh(a){if(document.body&&document.documentElement){const b=document.body.scrollTop+document.documentElement.scrollTop;a.h=a.clientX+(document.body.scrollLeft+document.documentElement.scrollLeft);a.i=a.clientY+b}}
class Hh{constructor(a){this.type="";this.state=this.source=this.data=this.currentTarget=this.relatedTarget=this.target=null;this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.ctrlKey=this.altKey=!1;this.clientY=this.clientX=0;this.changedTouches=this.touches=null;try{if(a=a||window.event){this.event=a;for(let d in a)d in Fh||(this[d]=a[d]);var b=a.target||a.srcElement;b&&3==b.nodeType&&(b=b.parentNode);this.target=b;var c=a.relatedTarget;if(c)try{c=c.nodeName?c:null}catch(d){c=null}else"mouseover"==
this.type?c=a.fromElement:"mouseout"==this.type&&(c=a.toElement);this.relatedTarget=c;this.clientX=void 0!=a.clientX?a.clientX:a.pageX;this.clientY=void 0!=a.clientY?a.clientY:a.pageY;this.keyCode=a.keyCode?a.keyCode:a.which;this.charCode=a.charCode||("keypress"==this.type?this.keyCode:0);this.altKey=a.altKey;this.ctrlKey=a.ctrlKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.h=a.pageX;this.i=a.pageY}}catch(d){}}preventDefault(){this.event&&(this.event.returnValue=!1,this.event.preventDefault&&
this.event.preventDefault())}stopPropagation(){this.event&&(this.event.cancelBubble=!0,this.event.stopPropagation&&this.event.stopPropagation())}stopImmediatePropagation(){this.event&&(this.event.cancelBubble=!0,this.event.stopImmediatePropagation&&this.event.stopImmediatePropagation())}};const wa=t.ytEventsEventsListeners||{};v("ytEventsEventsListeners",wa);const Ih=t.ytEventsEventsCounter||{count:0};v("ytEventsEventsCounter",Ih);
function Jh(a,b,c,d={}){a.addEventListener&&("mouseenter"!=b||"onmouseenter"in document?"mouseleave"!=b||"onmouseenter"in document?"mousewheel"==b&&"MozBoxSizing"in document.documentElement.style&&(b="MozMousePixelScroll"):b="mouseout":b="mouseover");return va(e=>{const f="boolean"===typeof e[4]&&e[4]==!!d;var g;if(g=ka(e[4])&&ka(d))a:{g=e[4];for(const h in g)if(!(h in d)||g[h]!==d[h]){g=!1;break a}for(const h in d)if(!(h in g)){g=!1;break a}g=!0}return!!e.length&&e[0]==a&&e[1]==b&&e[2]==c&&(f||g)})}
const Kh=function(a){let b=!1,c;return function(){b||(c=a(),b=!0);return c}}(function(){let a=!1;
try{const b=Object.defineProperty({},"capture",{get:function(){a=!0}});
window.addEventListener("test",null,b)}catch(b){}return a});
function Lh(a,b,c,d={}){if(!a||!a.addEventListener&&!a.attachEvent)return"";let e=Jh(a,b,c,d);if(e)return e;e=++Ih.count+"";const f=!("mouseenter"!=b&&"mouseleave"!=b||!a.addEventListener||"onmouseenter"in document);let g;g=f?h=>{h=new Hh(h);if(!Hc(h.relatedTarget,k=>k==a))return h.currentTarget=a,h.type=b,c.call(a,h)}:h=>{h=new Hh(h);
h.currentTarget=a;return c.call(a,h)};
g=Xe(g);a.addEventListener?("mouseenter"==b&&f?b="mouseover":"mouseleave"==b&&f?b="mouseout":"mousewheel"==b&&"MozBoxSizing"in document.documentElement.style&&(b="MozMousePixelScroll"),Kh()||"boolean"===typeof d?a.addEventListener(b,g,d):a.addEventListener(b,g,!!d.capture)):a.attachEvent(`on${b}`,g);wa[e]=[a,b,c,g,d];return e}
function Mh(a){a&&("string"==typeof a&&(a=[a]),ra(a,b=>{if(b in wa){var c=wa[b];const d=c[0],e=c[1],f=c[3];c=c[4];d.removeEventListener?Kh()||"boolean"===typeof c?d.removeEventListener(e,f,c):d.removeEventListener(e,f,!!c.capture):d.detachEvent&&d.detachEvent(`on${e}`,f);delete wa[b]}}))}
;const Nh=window.ytcsi&&window.ytcsi.now?window.ytcsi.now:window.performance&&window.performance.timing&&window.performance.now&&window.performance.timing.navigationStart?function(){return window.performance.timing.navigationStart+window.performance.now()}:function(){return(new Date).getTime()};function Oh(a){this.V=a;this.h=null;this.o=0;this.C=null;this.v=0;this.i=[];for(a=0;4>a;a++)this.i.push(0);this.m=0;this.Ba=Lh(window,"mousemove",na(this.Ca,this));a=na(this.Aa,this);"function"===typeof a&&(a=Xe(a));this.Da=window.setInterval(a,25)}
oa(Oh,Yc);Oh.prototype.Ca=function(a){void 0===a.h&&Gh(a);var b=a.h;void 0===a.i&&Gh(a);this.h=new Gc(b,a.i)};
Oh.prototype.Aa=function(){if(this.h){var a=Nh();if(0!=this.o){var b=this.C,c=this.h,d=b.x-c.x;b=b.y-c.y;d=Math.sqrt(d*d+b*b)/(a-this.o);this.i[this.m]=.5<Math.abs((d-this.v)/this.v)?1:0;for(c=b=0;4>c;c++)b+=this.i[c]||0;3<=b&&this.V();this.v=d}this.o=a;this.C=this.h;this.m=(this.m+1)%4}};
Oh.prototype.Y=function(){window.clearInterval(this.Da);Mh(this.Ba)};const Ph={};function Qh(){var {Xb:a=!1,Nb:b=!0}={};if(null==w("_lact",window)){var c=parseInt(M("LACT"),10);c=isFinite(c)?Date.now()-Math.max(c,0):-1;v("_lact",c,window);v("_fact",c,window);-1==c&&Rh();Lh(document,"keydown",Rh);Lh(document,"keyup",Rh);Lh(document,"mousedown",Rh);Lh(document,"mouseup",Rh);a?Lh(window,"touchmove",()=>{Sh("touchmove",200)},{passive:!0}):(Lh(window,"resize",()=>{Sh("resize",200)}),b&&Lh(window,"scroll",()=>{Sh("scroll",200)}));
new Oh(()=>{Sh("mouse",100)});
Lh(document,"touchstart",Rh,{passive:!0});Lh(document,"touchend",Rh,{passive:!0})}}
function Sh(a,b){Ph[a]||(Ph[a]=!0,Ef.h(()=>{Rh();Ph[a]=!1},b))}
function Rh(){null==w("_lact",window)&&Qh();var a=Date.now();v("_lact",a,window);-1==w("_fact",window)&&v("_fact",a,window);(a=w("ytglobal.ytUtilActivityCallback_"))&&a()}
function Th(){const a=w("_lact",window);return null==a?-1:Math.max(Date.now()-a,0)}
;t.ytPubsubPubsubInstance||new I;var Uh=Symbol("injectionDeps"),Vh=class{constructor(){this.name="INNERTUBE_TRANSPORT_TOKEN"}toString(){return`InjectionToken(${this.name})`}};function Wh(a){var b={Ua:Xh,ya:Yh.h};a.i.set(b.Ua,b)}
function Zh(a,b,c){if(-1<c.indexOf(b))throw Error(`Deps cycle for: ${b}`);if(a.h.has(b))return a.h.get(b);if(!a.i.has(b))throw Error(`No provider for: ${b}`);const d=a.i.get(b);c.push(b);if(d.ya)var e=d.ya;else if(d.eb)e=d[Uh]?$h(a,d[Uh],c):[],e=d.eb(...e);else if(d.cb){e=d.cb;const f=e[Uh]?$h(a,e[Uh],c):[];e=new e(...f)}else throw Error(`Could not resolve providers for: ${b}`);c.pop();d.hc||a.h.set(b,e);return e}
function $h(a,b,c){return b?b.map(d=>Zh(a,d,c)):[]}
var ai=class{constructor(){this.i=new Map;this.h=new Map}resolve(a){return Zh(this,a,[])}};let bi;function ci(){bi||(bi=new ai);return bi}
;function di(a,b){const c=ei(b);if(a.h[c])return a.h[c];const d=Object.keys(a.store)||[];if(1>=d.length&&ei(b)===d[0])return d;const e=[];for(let g=0;g<d.length;g++){const h=d[g].split("/");if(fi(b.auth,h[0])){var f=b.isJspb;fi(void 0===f?"undefined":f?"true":"false",h[1])&&fi(b.cttAuthInfo,h[2])&&e.push(d[g])}}return a.h[c]=e}
function fi(a,b){return void 0===a||"undefined"===a?!0:a===b}
var gi=class{constructor(){this.store={};this.h={}}storePayload(a,b){a=ei(a);this.store[a]?this.store[a].push(b):(this.h={},this.store[a]=[b]);return a}extractMatchingEntries(a){a=di(this,a);const b=[];for(let c=0;c<a.length;c++)this.store[a[c]]&&(b.push(...this.store[a[c]]),delete this.store[a[c]]);return b}getSequenceCount(a){a=di(this,a);let b=0;for(let c=0;c<a.length;c++)b+=this.store[a[c]].length||0;return b}};gi.prototype.getSequenceCount=gi.prototype.getSequenceCount;
gi.prototype.extractMatchingEntries=gi.prototype.extractMatchingEntries;gi.prototype.storePayload=gi.prototype.storePayload;function ei(a){return[void 0===a.auth?"undefined":a.auth,void 0===a.isJspb?"undefined":a.isJspb,void 0===a.cttAuthInfo?"undefined":a.cttAuthInfo].join("/")}
;function hi(a,b){if(a)return a[b.name]}
;const ii=Se("initial_gel_batch_timeout",2E3),ji=Se("gel_queue_timeout_max_ms",6E4),ki=Math.pow(2,16)-1;let T=void 0;class li{constructor(){this.j=this.h=this.i=0}}const mi=new li,ni=new li;let oi,pi=!0;const qi=t.ytLoggingTransportGELQueue_||new Map,ri=t.ytLoggingTransportGELProtoQueue_||new Map,si=t.ytLoggingTransportTokensToCttTargetIds_||{},ti=t.ytLoggingTransportTokensToJspbCttTargetIds_||{};let ui={};function vi(){let a=w("yt.logging.ims");a||(a=new gi,v("yt.logging.ims",a));return a}
function wi(a,b){N("web_all_payloads_via_jspb")&&Ze(new O("transport.log called for JSON in JSPB only experiment"));if("log_event"===a.endpoint){var c=xi(a);if(N("use_new_in_memory_storage")){ui[c]=!0;var d={cttAuthInfo:c,isJspb:!1};vi().storePayload(d,a.payload);yi(b,[],c,!1,d)}else d=qi.get(c)||[],qi.set(c,d),d.push(a.payload),yi(b,d,c)}}
function zi(a,b){if("log_event"===a.endpoint){var c=xi(a,!0);if(N("use_new_in_memory_storage")){ui[c]=!0;var d={cttAuthInfo:c,isJspb:!0};vi().storePayload(d,a.payload.toJSON());yi(b,[],c,!0,d)}else d=ri.get(c)||[],ri.set(c,d),a=a.payload.toJSON(),d.push(a),yi(b,d,c,!0)}}
function yi(a,b,c,d=!1,e){a&&(T=new a);a=Se("tvhtml5_logging_max_batch_ads_fork")||Se("tvhtml5_logging_max_batch")||Se("web_logging_max_batch")||100;const f=R(),g=d?ni.j:mi.j;b=b.length;e&&(b=vi().getSequenceCount(e));b>=a?oi||(oi=Ai(()=>{Bi({writeThenSend:!0},N("flush_only_full_queue")?c:void 0,d);oi=void 0},0)):10<=f-g&&(Ci(d),d?ni.j=f:mi.j=f)}
function Di(a,b){N("web_all_payloads_via_jspb")&&Ze(new O("transport.logIsolatedGelPayload called in JSPB only experiment"));if("log_event"===a.endpoint){var c=xi(a),d=new Map;d.set(c,[a.payload]);b&&(T=new b);return new H((e,f)=>{T&&T.isReady()?Ei(d,T,e,f,{bypassNetworkless:!0},!0):e()})}}
function Fi(a,b){if("log_event"===a.endpoint){var c=xi(a,!0),d=new Map;d.set(c,[a.payload.toJSON()]);b&&(T=new b);return new H(e=>{T&&T.isReady()?Gi(d,T,e,{bypassNetworkless:!0},!0):e()})}}
function xi(a,b=!1){var c="";if(a.dangerousLogToVisitorSession)c="visitorOnlyApprovedKey";else if(a.cttAuthInfo){if(b){b=a.cttAuthInfo.token;c=a.cttAuthInfo;const d=new Ee;c.videoId